#!/bin/sh
#description: dmenu based launcher
#usage: dmenu-run is best suited to be launched from a shortcut

#example: dmenu-run
#a gui menu appears asking for which program to launch

#requires a dmenu version with xft: https://bugs.launchpad.net/ubuntu/+source/suckless-tools/+bug/1093745
DMENU="dmenu -p > -i -fn Bahamas-10 -nb #000000 -nf #ffffff -sb #000000 -sf #7541b9"
#DMENU="dmenu -p > -i -fn Likhan-9 -nb #000000 -nf #ffffff -sb #000000 -sf #7541b9"
#DMENU="dmenu -p > -i -fn Sawasdee-9 -nb #000000 -nf #ffffff -sb #000000 -sf #7541b9"
#DMENU="dmenu -p > -i -fn TlwgTypewriter-9 -nb #000000 -nf #ffffff -sb #000000 -sf #7541b9"

_die()
{
    printf "%b\\n" "${1}" | ${DMENU}
    exit 1
}

if ! command -v "dmenu" >/dev/null 2>&1; then
    printf "%s\\n" "dmenu was not found" >&2
    exit 1
fi

if ! command -v "dmenu-path" >/dev/null 2>&1; then
    _die "dmenu-path was not found, press <Enter> to exit"
fi

exe="$(dmenu-path | ${DMENU})" && exec "${exe}"
